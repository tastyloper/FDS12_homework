# 3. 자바스크립트 개발 환경과 실행 방법

## 1. 자바스크립트 실행 환경

* 클라이언트 사이드
  * Web APIs + ES
* 서버 사이드
  * Node.js APIs + ES

## 2. 웹 브라우저

### 1. 웹 브라우저는 어떻게 동작하는가?

#### 랜더링 엔진

1. 처음 Client에서 Server에게 Request를 보낸다. url 주소를 사용자가 입력하는 순간 보낸다.
   * HTTP나 HTTPS라는 통신 규약으로 통신
   * HTTP 1.x버전
     - 달라고 하는데로 준다.
     - 3번 요청하면 3개
   * HTTP 2.x버전
     - 알아서 준다.
     - 클라이언트가 요청도 안 했는데 준다.
     - 논리상 한 번에 준다.
   * 도메인 뒤에 아무것도 없으면 메인페이지를 줘 라는 약속
2. server에서 도메인 뒤에 아무것도 없으니 메인페이지 html을 응답해줌
   * 스트림 - 파일을 2진수로 변경해서 잘라서 패킷을 만들어 선으로 하나씩보낸다
   * 받은 html 파일을 html 파서가 파싱해서 트리구조(root는 한개, 자식들은 - node)로 만든다.
     * **DOM Tree**
     * 컴퓨터가 이해했다라는 것은 메모리에 올렸다 라는 것
     * html
       * head
         * 메타 데이터 - 사람이 아닌 컴퓨터에게 주기 위한 데이터
         * title은 유일하게 view
       * body(view 영역)
3. html 파싱 하다가 css로딩 태그(link)를 만나면 css파일을 다시 server에 요청한다.(HTTP나 HTTPS라는 통신 규약으로)
4. server가 파일을 찾아서 메모리에 올려서 패킷을 만들어서 선으로 하나씩 보낸다.
5. 브라우저가 css파일을 받아서 css로 파싱한다.
   * **CSSOM Tree**
   * 끝까지 읽으며 트리구조로 메모리에 저장
6. CSS를 다 읽으면 중단한 HTML로 다시 돌아가서 파싱 시작
7. CSS 파싱이 다 끝나면 DOM Tree와 CSSOM Tree를 Merge해서 Render Tree를 만듦
8. Render Tree를 그린다.

#### 자바스크립트 엔진

1. HTML을 파싱하다가 script 태그를 만나면 서버에게 요청해서 파일을 받음
2. 자바스크립트를 파싱해서 syntax Tree로 만듦
3. 그것으로 자바스크립트를 실행
1. 실행이 완료되면 다시 HTML 파서로 제어 권한을 넘겨서 브라우저가 중지했던 시점부터 DOM 생성을 재개

### 2. 개발자 도구
* 다양한 기능으로 웹개발을 도와줌

### 3. 콘솔

* 에러를 표출해주는 곳
* `console.log(…)`로 확인하고 싶은 값을 표출할 수 있음
* REPL
  * Read – 유저의 값을 입력 받아 JavaScript 데이터 구조로 메모리에 저장
  * Eval – 데이터를 처리(Evaluate)
  * Print – 결과값을 출력
  * Loop – Read, Eval, Print 를 유저가 Ctrl+C를 두번 눌러 종료할때까지 반복